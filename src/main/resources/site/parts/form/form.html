<form method="POST" action="" data-th-action="${postUrl}" id="recaptchaForm">
    <div>
        <label>
            <span>Name:</span>
            <input type="text" name="name"/>
        </label>
        <br/><br/>
        <div class="g-recaptcha" data-th-attr="data-sitekey=${recaptchaSiteKey}" data-sitekey="124" data-callback="recaptchaCallback"></div>
        <br/>
        <input type="submit" value="Submit" id="submit-button"/>
        <br/>
    </div>
</form>

<div id="formResult" style="display: none;"></div>

<script>
    function recaptchaCallback() {
        var submitBtn = document.getElementById('submit-button');
        submitBtn.removeAttribute('disabled');
    };

    $(function() {
        $('#recaptchaForm').submit(function(e) {
            var postData = $(this).serializeArray();
            var formURL = $(this).attr("action");

            $.ajax({
                type: "POST",
                url: formURL,
                data: postData,
                success: function(data) {
                    $('#recaptchaForm').hide();
                    if (data.recaptchaValidated) {
                        $('#formResult').text('woohooo, it worked!').show();
                    }
                    else {
                        $('#formResult').text('try again').show();
                    }
                },
                dataType: 'json'
            });

            e.preventDefault();
        });
    });
</script>